// Project: PrintPop — Custom T-Shirt Shop (React + Vite + Tailwind)
// Fully functional mock store with cart, checkout, and localStorage persistence.

/* ===== package.json ===== */
{
  "name": "printpop",
  "version": "1.0.0",
  "private": true,
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview",
    "deploy": "gh-pages -d dist"
  },
  "dependencies": {
    "react": "^18.2.0",
    "react-dom": "^18.2.0"
  },
  "devDependencies": {
    "gh-pages": "^5.0.0",
    "autoprefixer": "^10.4.14",
    "postcss": "^8.4.24",
    "tailwindcss": "^3.4.7",
    "vite": "^5.0.0"
  }
}

/* ===== vite.config.js ===== */
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'
export default defineConfig({
  base: '/PrintPop/',
  plugins: [react()]
})

/* ===== tailwind.config.cjs ===== */
module.exports = {
  content: ['./index.html', './src/**/*.{js,jsx,ts,tsx}'],
  theme: { extend: {} },
  plugins: []
}

/* ===== index.html ===== */
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PrintPop — Custom Tees</title>
</head>
<body>
  <div id="root"></div>
  <script type="module" src="/src/main.jsx"></script>
</body>
</html>

/* ===== src/main.jsx ===== */
import React from 'react'
import { createRoot } from 'react-dom/client'
import App from './App'
import './index.css'

createRoot(document.getElementById('root')).render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
)

/* ===== src/index.css ===== */
@tailwind base;
@tailwind components;
@tailwind utilities;
html, body, #root { height: 100%; }

/* ===== src/App.jsx ===== */
import React, { useState, useEffect } from 'react'

const PRODUCTS = [
  { id: 'classic', name: 'Classic Tee', price: 20, colors: ['White', 'Black'], img: 'https://via.placeholder.com/360?text=Classic+Tee' },
  { id: 'logo', name: 'Logo Tee', price: 25, colors: ['Red', 'Blue'], img: 'https://via.placeholder.com/360?text=Logo+Tee' },
  { id: 'vintage', name: 'Vintage Tee', price: 30, colors: ['Olive', 'Burgundy'], img: 'https://via.placeholder.com/360?text=Vintage+Tee' }
]

export default function App() {
  const [cart, setCart] = useState(() => JSON.parse(localStorage.getItem('pp_cart') || '[]'))
  const [view, setView] = useState('shop')

  useEffect(() => { localStorage.setItem('pp_cart', JSON.stringify(cart)) }, [cart])

  const addToCart = (product, color, qty) => {
    setCart(prev => {
      const existing = prev.find(p => p.id === product.id && p.color === color)
      if (existing) return prev.map(p => p.id === product.id && p.color === color ? {...p, qty: p.qty + qty} : p)
      return [...prev, { ...product, color, qty }]
    })
  }

  const updateQty = (index, qty) => setCart(prev => prev.map((p,i)=>i===index?{...p,qty}:p))
  const removeItem = index => setCart(prev => prev.filter((_,i)=>i!==index))

  const subtotal = cart.reduce((s,p)=>s+p.price*p.qty,0)
  const shipping = subtotal > 50 || subtotal === 0 ? 0 : 6
  const total = subtotal + shipping

  return (
    <div className="min-h-screen bg-gray-50 font-sans text-gray-800">
      <header className="bg-white shadow">
        <div className="max-w-6xl mx-auto px-4 py-4 flex justify-between">
          <h1 className="text-2xl font-bold">PrintPop</h1>
          <div className="flex gap-2">
            <button onClick={()=>setView('shop')} className="py-1 px-3 rounded hover:bg-gray-100">Shop</button>
            <button onClick={()=>setView('cart')} className="py-1 px-3 rounded hover:bg-gray-100">Cart ({cart.reduce((a,c)=>a+c.qty,0)})</button>
          </div>
        </div>
      </header>

      <main className="max-w-6xl mx-auto p-6">
        {view==='shop' && <Shop products={PRODUCTS} addToCart={addToCart} />}
        {view==='cart' && <Cart cart={cart} updateQty={updateQty} removeItem={removeItem} subtotal={subtotal} shipping={shipping} total={total} setView={setView} />}
        {view==='checkout' && <Checkout setView={setView} cart={cart} />}
        {view==='thanks' && <Thanks setCart={setCart} setView={setView} />}
      </main>

      <footer className="text-center text-sm text-gray-500 py-6">© PrintPop — Demo</footer>
    </div>
  )
}

function Shop({products, addToCart}) {
  return (
    <div className="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
      {products.map(p => <ProductCard key={p.id} product={p} addToCart={addToCart} />)}
    </div>
  )
}

function ProductCard({product, addToCart}) {
  const [color,setColor] = useState(product.colors[0])
  const [qty,setQty] = useState(1)
  return (
    <div className="bg-white rounded shadow p-4 flex flex-col">
      <img src={product.img} alt={product.name} className="rounded mb-3 w-full h-48 object-cover" />
      <div className="font-semibold">{product.name}</div>
      <div className="text-sm text-gray-600 mb-2">${product.price}</div>
      <select value={color} onChange={e=>setColor(e.target.value)} className="p-2 border rounded mb-2">
        {product.colors.map(c=><option key={c}>{c}</option>)}
      </select>
      <div className="flex gap-2">
        <input type="number" min="1" value={qty} onChange={e=>setQty(Number(e.target.value)||1)} className="w-20 p-2 border rounded" />
        <button onClick={()=>addToCart(product,color,qty)} className="flex-1 py-2 rounded bg-black text-white">Add</button>
      </div>
    </div>
  )
}

function Cart({cart,updateQty,removeItem,subtotal,shipping,total,setView}) {
  return (
    <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
      <div className="md:col-span-2 bg-white p-4 rounded shadow">
        {cart.length===0 ? <div className="text-center py-6">Cart empty</div> : cart.map((item,i)=>(
          <div key={i} className="flex items-center gap-4 border-b py-3">
            <div className="w-20 h-20 bg-gray-100 flex items-center justify-center rounded">{item.name.split(' ')[0]}</div>
            <div className="flex-1">
              <div>{item.name}</div>
              <div className="text-sm text-gray-600">Color: {item.color}</div>
              <div>${item.price}</div>
            </div>
            <div className="flex items-center gap-2">
              <input type="number" min="1" value={item.qty} onChange={e=>updateQty(i,Number(e.target.value)||1)} className="w-16 p-1 border rounded" />
              <button onClick={()=>removeItem(i)} className="text-sm underline">Remove</button>
            </div>
          </div>
        ))}
      </div>
      {cart.length>0 && <aside className="bg-white p-4 rounded shadow">
        <div>Subtotal: ${subtotal.toFixed(2)}</div>
        <div>Shipping: ${shipping.toFixed(2)}</div>
        <div className="font-semibold text-lg mb-4">Total: ${total.toFixed(2)}</div>
        <button onClick={()=>setView('checkout')} className="w-full py-2 rounded bg-black text-white">Checkout</button>
      </aside>}
    </div>
  )
}

function Checkout({setView,cart}) {
  const handleSubmit=e=>{e.preventDefault(); setView('thanks')}
  return (
    <div className="max-w-2xl mx-auto bg-white p-6 rounded shadow">
      <h2 className="text-xl font-semibold mb-4">Checkout</h2>
      <form onSubmit={handleSubmit} className="grid gap-3">
        <input required placeholder="Full Name" className="p-2 border rounded" />
        <input required placeholder="Email" type="email" className="p-2 border rounded" />
        <input required placeholder="Address" className="p-2 border rounded" />
        <div className="flex gap-2">
          <input required placeholder="City" className="p-2 border rounded flex-1" />
          <input required placeholder="ZIP" className="p-2 border rounded w-28" />
        </div>
        <button type="submit" className="py-2 rounded bg-black text-white">Place Order</button>
      </form>
    </div>
  )
}

function Thanks({setCart,setView}) {
  return (
    <div className="max-w-2xl mx-auto bg-white p-6 rounded shadow text-center">
      <h2 className="text-xl font-semibold mb-2">Thank you! Order placed.</h2>
      <p className="text-sm text-gray-600 mb-4">This is a demo flow.</p>
      <button onClick={()=>{setCart([]); setView('shop')}} className="py-2 px-4 rounded bg-black text-white">Back to Shop</button>
    </div>
  )
}

/* ===== README.md ===== */
# PrintPop — Custom T-Shirt Shop Demo

Fully functional t-shirt shop using React, Vite, and Tailwind. Features:
- Product gallery
- Cart with localStorage
- Mock checkout

## Run locally
```
npm install
npm run dev
```
Open `http://localhost:5173`.

## Deploy to GitHub Pages
1. Set `base: '/PrintPop/'` in `vite.config.js`
2. Build: `npm run build`
3. Push to GitHub
4. Settings → Pages → Branch: `main`, Folder: `/root`

Your site will be live at: `https://LiamJones989.github.io/PrintPop/`
